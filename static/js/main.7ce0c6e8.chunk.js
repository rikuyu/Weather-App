(this["webpackJsonpweather-app"]=this["webpackJsonpweather-app"]||[]).push([[0],{21:function(e,t,n){},28:function(e,t,n){},30:function(e,t,n){"use strict";n.r(t);var c=n(1),r=n(0),a=n.n(r),s=n(5),o=n.n(s),i=(n(21),n(2)),l=(n(28),n(15)),x=n(10),j=n.n(x),d=n(12),h="GET_WEATHER",u="SET_LOADING",m="SET_ERROR",b=function(e){var t=e.title,n=Object(i.b)(),a=Object(r.useState)(""),s=Object(l.a)(a,2),o=s[0],x=s[1];return Object(c.jsxs)("div",{className:"mb-3",children:[Object(c.jsx)("h1",{className:"text-white font-mono text-xl text-center mb-4 mt-3",children:t}),Object(c.jsxs)("form",{onSubmit:function(e){var t;e.preventDefault(),n({type:u}),n((t=o,function(){var e=Object(d.a)(j.a.mark((function e(n){var c,r,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://api.openweathermap.org/data/2.5/weather?q=".concat(t,"&appid=").concat("9ecb2e58c0f67b34ccfec9a4f97f0b67"));case 3:if((c=e.sent).ok){e.next=9;break}return e.next=7,c.json();case 7:throw r=e.sent,new Error(r.message);case 9:return e.next=11,c.json();case 11:a=e.sent,n({type:h,payload:a}),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),n({type:m,payload:e.t0.message});case 18:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(t){return e.apply(this,arguments)}}())),x("")},className:"flex justify-center",children:[Object(c.jsx)("input",{type:"text",placeholder:"\u5834\u6240\u540d\u3092\u30ed\u30fc\u30de\u5b57\u3067\u5165\u529b",className:"mt-1 w-5/12 p-3 focus:outline-none focus:ring focus:border-blue-300 rounded-xl",value:o,onChange:function(e){x(e.currentTarget.value)}}),Object(c.jsx)("button",{className:"bg-red-300 hover:bg-red-400 py-1 px-4 text-white ml-1 rounded-xl",children:"\u691c\u7d22"})]})]})},p=function(){return Object(c.jsx)("div",{className:"flex justify-center my-8",children:Object(c.jsx)("p",{className:"text-white font-mono text-xl text-center pt-2",children:"\u5b58\u5728\u3057\u306a\u3044\u5730\u540d\u3067\u3059\u3002\uff08\u5730\u540d\u306f\u30ed\u30fc\u30de\u5b57\u3067\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044 | Ex.Tokyo \uff09"})})},f=function(e){var t=e.data,n=(t.main.temp-273.15).toFixed(2);return console.log(t),Object(c.jsx)("div",{children:Object(c.jsxs)("div",{className:"container flex flex-col items-center py-8 mb-20",children:[Object(c.jsxs)("h1",{className:"text-white font-mono text-4xl ",children:[t.name," in ",t.sys.country]}),Object(c.jsxs)("p",{className:"text-white font-mono text-3xl ",children:["\u5929\u6c17\uff1a",t.weather[0].description]}),Object(c.jsx)("p",{children:Object(c.jsx)("img",{className:"w-32 h-32 justify-center",src:"http://openweathermap.org/img/wn/".concat(t.weather[0].icon,".png"),alt:"weather-img"})}),Object(c.jsxs)("p",{className:"text-white font-mono text-2xl ",children:["\u6c17\u6e29\uff1a",n," \u2103"]}),Object(c.jsxs)("p",{className:"text-white font-mono text-2xl ",children:["\u6e7f\u5ea6\uff1a",t.main.humidity," %"]}),Object(c.jsxs)("p",{className:"text-white font-mono text-2xl ",children:["\u6c17\u5727\uff1a",t.main.pressure]}),Object(c.jsx)("p",{}),Object(c.jsxs)("p",{className:"text-white font-mono text-2xl ",children:["\u98a8\u901f\uff1a",t.wind.speed," m/s"]})]})})},O=function(){var e=Object(i.c)((function(e){return e.weather.data})),t=Object(i.c)((function(e){return e.weather.loading})),n=Object(i.c)((function(e){return e.weather.error}));return console.log("loading:"+t),console.log("error:"+n),Object(c.jsxs)("div",{className:"mx-auto",children:[Object(c.jsx)("h1",{className:"text-white font-mono text-3xl text-center mt-10",children:"\u5929\u6c17\u53d6\u5f97\u30a2\u30d7\u30ea"}),Object(c.jsx)(b,{title:"\u4eca\u306e\u5929\u6c17\u3092\u8abf\u3079\u308b\u5834\u6240\u306e\u540d\u524d\u3092\u5165\u529b\uff01\uff01"}),Object(c.jsxs)("div",{className:"container mx-auto",children:[n&&Object(c.jsx)(p,{}),t?Object(c.jsx)("h2",{className:"text-white font-mono text-2xl text-center my-5",children:"\u5929\u6c17\u60c5\u5831\u53d6\u5f97\u4e2d..."}):e&&Object(c.jsx)(f,{data:e})]})]})},w=n(3),g=n(13),v=n(14),y=n(4),N={data:null,loading:!1,error:!1},E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h:return{data:t.payload,loading:!1,error:!1};case u:return Object(y.a)(Object(y.a)({},e),{},{loading:!0});case m:return Object(y.a)(Object(y.a)({},e),{},{error:!0,loading:!1});default:return e}},k=Object(w.combineReducers)({weather:E}),T=Object(w.createStore)(k,Object(g.composeWithDevTools)(Object(w.applyMiddleware)(v.a)));o.a.render(Object(c.jsx)(a.a.StrictMode,{children:Object(c.jsx)(i.a,{store:T,children:Object(c.jsx)(O,{})})}),document.getElementById("root"))}},[[30,1,2]]]);
//# sourceMappingURL=main.7ce0c6e8.chunk.js.map